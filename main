@@ -0,0 +1,62 @@
import pygame
import hero
import knight
import ground
import os
from pygame import *
from ground import*

height = 500
width = 700
level_amount = 1

FILE_DIR = os.path.dirname(__file__)

def load_level(n, level):
    c_level = '%s/levels/' + str(n) + '.txt'
    
    levelfile = open(c_level % FILE_DIR)
    line = " "
    tasks = []
    line = levelfile.readline()
    while line[0] != "/":
        line = levelfile.readline()
        if line[0] == '[':
            line = levelfile.readline()
            while line[0] != "]":
                ending = line.find("|")
                level.append(line[0: ending])
                line = levelfile.readline()
    
def screen_saver():
    pygame.init()
    started = False
    screen = pygame.display.set_mode((width, height))
    pygame.display.set_caption("Obey Dark Lord")
    bg = Surface((width, height))     
    
    background_image=pygame.image.load("screensaver.jpg").convert()
    while not started:
        for e in pygame.event.get():
            if e.type == pygame.KEYDOWN and e.key == pygame.K_SPACE:
                started = True
            screen.blit(background_image, (0,0))
        pygame.display.update()      

def main():
    pygame.init()
    done = False
    screen = pygame.display.set_mode((width, height))
    pygame.display.set_caption("Obey Dark Lord")
    bg = Surface((width, height))
    
    background_image = pygame.image.load("background_1.jpg").convert()
    
    for i in range(level_amount):
        level = []
        load_level(i + 1, level)
        entities = pygame.sprite.Group()
        grave = []        

        x = 0
        y = 0
        for row in level:
            for col in row:
                if col == "-":
                    pf = Ground(x,y)
                    entities.add(pf)
                    grave.append(pf)
                x += gr_width
            y += gr_height
            x = 0
        while not done:
     
            for e in pygame.event.get():
                    if e.type == QUIT: #event handling
                        done = True
            screen.blit(background_image, (0,0))
            entities.draw(screen)
            pygame.display.update()

        pygame.quit()

if __name__ == "__main__":
    screen_saver()
    main()        
    
